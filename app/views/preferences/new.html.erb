<h2 class="mt-10 mb-2 text-2xl font-extrabold text-gray-900">Choose your preferences:</h2>
<%= form_with model: current_user, url: preferences_path, method: :post, local: true do |form| %>
  <% current_user.preferences.each_with_index do |preference, index| %>
    <%= form.fields_for "preferences[]", preference do |preference_form| %>
      <%= preference_form.collection_select(:school_specialization_id, SchoolSpecialization.all, :id, :display_name, { prompt: "Please select:" }, { class: "mt-10 px-3 py-2 bg-white border shadow-sm border-slate-300 placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-sky-500 block w-full rounded-md sm:text-sm focus:ring-1" }) %>
      <%= preference_form.hidden_field :priority, value: index + 1 %>
    <% end %>
  <% end %>
  <%= form.submit "Save Preferences", class: "mt-10 py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 inline-block" %>
<% end %>


<%= button_to "Add a new preference", add_new_preferences_path, method: :get%>
