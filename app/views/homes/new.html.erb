<% content_for :main_classes, 'container mx-auto mt-25 px-5' %>

<% if !current_user.nil? && current_user.role == "student" %>
  <h2 class="mt-10 mb-2 text-2xl font-extrabold text-sap-black text-center">Your grades</h2>
  <div class="mt-10 relative overflow-x-auto shadow-md sm:rounded-lg">
      <table class="w-full text-sm text-left text-sap-white">
          <thead class="text-xs text-sap-white uppercase bg-sap-black">
              <tr>
                  <th scope="col" class="px-6 py-3 text-center">
                      Grade category
                  </th>
                  <th scope="col" class="px-6 py-3 text-center">
                      Grade
                  </th>
              </tr>
          </thead>
          <tbody>
              <tr class="bg-sap-grey border-b text-center">
                  <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                      Admission average
                  </th>
                  <td class="px-6 py-4">
                      <%= current_user.admission_average %>
                  </td>
              </tr>
              <tr class="bg-sap-grey border-b text-center">
                  <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                      English average
                  </th>
                  <td class="px-6 py-4">
                      <%= current_user.en_average %>
                  </td>
              </tr>
              <tr class="bg-sap-grey border-b text-center">
                  <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                      Romanian grade
                  </th>
                  <td class="px-6 py-4">
                      <%= current_user.ro_grade %>
                  </td>
              </tr>
              <tr class="bg-sap-grey border-b text-center">
                  <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                      Mathematics grade
                  </th>
                  <td class="px-6 py-4">
                      <%= current_user.mathematics_grade %>
                  </td>
              </tr>
              <tr class="bg-sap-grey border-b text-center">
                  <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                      Mother tongue
                  </th>
                  <td class="px-6 py-4">
                      <%= current_user.mother_tongue.nil? ? "-" : current_user.mother_tongue %>
                  </td>
              </tr>
              <tr class="bg-sap-grey border-b text-center">
                  <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                      Mother tongue grade
                  </th>
                  <td class="px-6 py-4">
                      <%= current_user.mother_tongue_grade.nil? ? "-" : current_user.mother_tongue_grade %>
                  </td>
              </tr>
              <tr class="bg-sap-grey border-b text-center">
                  <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                      Graduation average
                  </th>
                  <td class="px-6 py-4">
                      <%= current_user.graduation_average %>
                  </td>
              </tr>

          </tbody>
      </table>
  </div>

    <h2 class="mt-10 mb-2 text-2xl font-extrabold text-sap-black text-center">Your preferences</h2>
      <div class="mt-10 relative overflow-x-auto shadow-md sm:rounded-lg">
      <table class="w-full text-sm text-left text-sap-white">
          <thead class="text-xs text-gray-700 uppercase bg-sap-black">
              <tr>
                  <th scope="col" class="px-6 py-3">
                      Preference
                  </th>
                  <th scope="col" class="px-6 py-3 text-center">
                      Priority
                  </th>
              </tr>
          </thead>
          <tbody>
          <% current_user.preferences.each do |preference|%>
              <tr class="bg-white border-b bg-sap-grey">
                  <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                      <%= SchoolSpecialization.find(preference.school_specialization_id).display_name if preference.school_specialization_id.present? %>
                  </th>
                  <td class="px-6 py-4 text-center">
                      <%= preference.priority %>
                  </td>
              </tr>
          <% end %>
          </tbody>
      </table>
<% elsif !current_user.nil? && current_user.role == "admin" %>
    <div class="max-w-screen-xl mx-auto px-5 bg-sap-blue3 min-h-screen mt-10">
        <div class="flex flex-col items-center">
            <h2 class="font-bold text-3xl mt-5 tracking-tight">
                HOW TO
            </h2>
            <p class="text-neutral-500 text-lg mt-3">
                A quick step by step description of the process
            </p>
        </div>
        <div class="grid divide-y divide-neutral-200 max-w-xl mx-auto mt-8">
            <div class="py-5">
                <details class="group">
                    <summary class="flex justify-between items-center font-medium cursor-pointer list-none">
                        <span> Step 1: Importing the necessary data</span>
                        <span class="transition group-open:rotate-180">
                    <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path>
    </svg>
                </span>
                    </summary>
                    <p class="text-neutral-600 mt-3 group-open:animate-fadeIn">
                        Data must be loaded in.csv format under the "Import Data" tab.
                        The document must contain three columns with the following headings:
                        |school|track|specialization|
                    </p>
                </details>
            </div>
            <div class="py-5">
                <details class="group">
                    <summary class="flex justify-between items-center font-medium cursor-pointer list-none">
                        <span> Step 2: Createing school specializations</span>
                        <span class="transition group-open:rotate-180">
                    <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path>
    </svg>
                </span>
                    </summary>
                    <p class="text-neutral-600 mt-3 group-open:animate-fadeIn">
                        Under the "Specialization Creation" page, school specialties must be created.
                        School, Track, Specialization, and Capacity input are all available on the form. 
                        In case any errors managed to slip in, there is also a "Last entry" form that enables quick corrections.
                        Additionally, there is a button labeled "All records" that will show every record previously generated with the option to modify it.
                    </p>
                </details>
            </div>
            <div class="py-5">
                <details class="group">
                    <summary class="flex justify-between items-center font-medium cursor-pointer list-none">
                        <span> Step 3: Creating student accounts</span>
                        <span class="transition group-open:rotate-180">
                    <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path>
    </svg>
                </span>
                    </summary>
                    <p class="text-neutral-600 mt-3 group-open:animate-fadeIn">
                        A plug-and-play student account can be created under the "Student Creation" section. 
                        Administrators can enter the student's grades on the form, and after it's submitted, 
                        the student will receive an email asking him to reset his password. 
                        He is able to select his preferences from the ones that were generated in the previous phase.
                    </p>
                </details>
            </div>
            <div class="py-5">
                <details class="group">
                    <summary class="flex justify-between items-center font-medium cursor-pointer list-none">
                        <span> Step 4: Picking notification and allocation dates</span>
                        <span class="transition group-open:rotate-180">
                    <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path>
    </svg>
                </span>
                    </summary>
                    <p class="text-neutral-600 mt-3 group-open:animate-fadeIn">
                        There are two potential notification dates that can be selected in the "Scheduler" section. 
                        The pupils who didn't select any preferences will be reminded through email to do so at the appropriate time by using the notification date pickers.
                        The allocation date picker enables the selection of a day for the allocation procedure, 
                        on which each student will be assigned to one of the open slots they selected.
                    </p>
                </details>
            </div>
            <div class="py-5">
                <details class="group">
                    <summary class="flex justify-between items-center font-medium cursor-pointer list-none">
                        <span> Step 5: Overview</span>
                        <span class="transition group-open:rotate-180">
                    <svg fill="none" height="24" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" width="24"><path d="M6 9l6 6 6-6"></path>
    </svg>
                </span>
                    </summary>
                    <p class="text-neutral-600 mt-3 group-open:animate-fadeIn">
                        A post-allocation overall view of the pupils is possible in the "Allocation Overview" section.
                    </p>
                </details>
            </div>
        </div>
    </div>

<%else%>


<div class="bg-white dark:bg-gray-900 mb-40">
    <div class="py-8 px-4 mx-auto max-w-screen-xl text-center lg:py-16">
        <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-6xl dark:text-white">The Right High School Shapes Your Future</h1>
        <p class="mb-8 text-lg font-normal text-gray-500 lg:text-xl sm:px-16 lg:px-48 dark:text-gray-400">Choosing the right high school is a critical step in your educational journey. We guide you through this process, ensuring you find the perfect fit for your aspirations and potential.</p>
        <div class="flex flex-col space-y-4 sm:flex-row sm:justify-center sm:space-y-0 sm:space-x-4">
            <%= link_to "Get started", new_user_session_path, class: "mt-10 text-center w-32 h-10 py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-sap-white focus:outline-none bg-sap-grey rounded-lg border border-gray-200 hover:bg-sap-black hover:text-sap-blue focus:z-10 focus:ring-4 inline-block"%>
        </div>
    </div>
</div>


<ol class="items-center sm:flex">
    <li class="relative mb-6 sm:mb-0">
        <div class="flex items-center">
            <!-- SVG ... -->
        </div>
        <div class="mt-3 sm:pr-8">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">High School Exploration</h3>
            <time class="block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500">Starts in August</time>
            <p class="text-base font-normal text-gray-500 dark:text-gray-400">Discover the diverse range of high schools available, understand their strengths, and identify where you might thrive.</p>
        </div>
    </li>

    <li class="relative mb-6 sm:mb-0">
        <div class="flex items-center">
            <!-- SVG ... -->
        </div>
        <div class="mt-3 sm:pr-8">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Application Prep</h3>
            <time class="block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500">Begins in September</time>
            <p class="text-base font-normal text-gray-500 dark:text-gray-400">From essays to interviews, prepare effectively to put your best foot forward in every high school application.</p>
        </div>
    </li>

    <li class="relative mb-6 sm:mb-0">
        <div class="flex items-center">
            <!-- SVG ... -->
        </div>
        <div class="mt-3 sm:pr-8">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Decision Time</h3>
            <time class="block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500">End of November</time>
            <p class="text-base font-normal text-gray-500 dark:text-gray-400">Receive admission results, understand your options, and make an informed choice for your future.</p>
        </div>
    </li>
</ol>


<% end %> 
